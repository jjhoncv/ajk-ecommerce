# Caso de Uso: Mรณdulo Tags

## Descripciรณn del Requerimiento

```
USUARIO: "Quiero crear el mรณdulo tags, que se vea en el ecommerce
         en el detalle de producto y en el product card,
         y debe tener su admin"
```

## Anรกlisis del Requerimiento

| Aspecto | Decisiรณn |
|---------|----------|
| Admin CRUD | โ Sรญ |
| Ecommerce standalone (/tags) | โ No (se ve DENTRO de productos) |
| Integraciรณn con productos | โ Sรญ - relaciรณn M:N |
| Nivel de asociaciรณn | Producto (no variante) |
| Tabla pivote | product_tags |

---

## FLUJO COMPLETO DE DESARROLLO

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           SOLICITUD DEL USUARIO                              โ
โ                                                                              โ
โ  "Quiero crear el mรณdulo tags, que se vea en el ecommerce                   โ
โ   en el detalle de producto y en el product card, y debe tener su admin"    โ
โ                                                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          PROJECT OWNER                                       โ
โ                                                                              โ
โ  ๐ Lee: assign-module.md + analyze-integration.md                           โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ANรLISIS                                                               โ  โ
โ  โ                                                                        โ  โ
โ  โ โ Entendido: Tags para etiquetar productos (Nuevo, Oferta, Popular)   โ  โ
โ  โ โ Requiere Admin: CRUD de tags con nombre, slug, color, is_active     โ  โ
โ  โ โ Requiere Integraciรณn: Tags se asocian a productos (M:N)             โ  โ
โ  โ โ Visualizaciรณn: ProductCard (badge) y ProductDetail (badges)         โ  โ
โ  โ โ NO requiere pรกgina pรบblica /tags                                    โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ PREGUNTA AL USUARIO (AskUserQuestion)                                  โ  โ
โ  โ                                                                        โ  โ
โ  โ "Tu mรณdulo tags se relaciona con productos.                           โ  โ
โ  โ  ยฟA quรฉ nivel debe ser la asociaciรณn?                                 โ  โ
โ  โ                                                                        โ  โ
โ  โ  A) Producto (todas las variantes heredan los tags)  โ RECOMENDADO    โ  โ
โ  โ  B) Variante (cada variante puede tener tags diferentes)              โ  โ
โ  โ  C) Ambos niveles"                                                    โ  โ
โ  โ                                                                        โ  โ
โ  โ  RESPUESTA: A) Producto                                               โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  Campos propuestos para tags:                                                โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ Campo         โ Tipo          โ Descripciรณn                           โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ id            โ INT AUTO_INC  โ Primary key                           โ  โ
โ  โ name          โ VARCHAR(100)  โ Nombre del tag (ej: "Nuevo")          โ  โ
โ  โ slug          โ VARCHAR(100)  โ URL friendly (ej: "nuevo")            โ  โ
โ  โ color         โ VARCHAR(7)    โ Color hex (ej: "#FF5733")             โ  โ
โ  โ description   โ TEXT          โ Descripciรณn opcional                  โ  โ
โ  โ is_active     โ BOOLEAN       โ Activo/Inactivo                       โ  โ
โ  โ display_order โ INT           โ Orden de visualizaciรณn                โ  โ
โ  โ created_at    โ TIMESTAMP     โ Fecha creaciรณn                        โ  โ
โ  โ updated_at    โ TIMESTAMP     โ Fecha actualizaciรณn                   โ  โ
โ  โ created_by    โ INT FK        โ Usuario que creรณ                      โ  โ
โ  โ updated_by    โ INT FK        โ Usuario que modificรณ                  โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  CREA: .agents/specs/tags-testing-spec.md                                    โ
โ                                                                              โ
โ  Contenido del spec:                                                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ # Testing Spec: Tags                                                   โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Ecommerce                                                           โ  โ
โ  โ - ecommerceEnabled: false (no tiene pรกgina /tags pรบblica)              โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Integraciรณn con Mรณdulos Existentes                                  โ  โ
โ  โ - requiereIntegracion: true                                            โ  โ
โ  โ - moduloRelacionado: products                                          โ  โ
โ  โ - tipoRelacion: M:N                                                    โ  โ
โ  โ - nivelAsociacion: producto                                            โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Criterios de Validaciรณn Visual                                      โ  โ
โ  โ - ProductCard: Badge(s) de color en esquina superior                   โ  โ
โ  โ - ProductDetail: Badges junto al nombre del producto                   โ  โ
โ  โ - Admin Products: Selector de tags en formulario de ediciรณn            โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  ACTUALIZA: .agents/project.json                                             โ
โ  {                                                                           โ
โ    "modules": {                                                              โ
โ      "tags": { "status": "in-progress", "assignedDate": "2026-01-31" }      โ
โ    }                                                                         โ
โ  }                                                                           โ
โ                                                                              โ
โ  EJECUTA:                                                                    โ
โ  $ git checkout -b feature/tags                                              โ
โ  $ git push -u origin feature/tags                                           โ
โ                                                                              โ
โ  LANZA: Module Lead con Task()                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โ Task()
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            MODULE LEAD                                       โ
โ                                                                              โ
โ  ๐ Lee: start-module.md                                                     โ
โ  ๐ Lee: .agents/specs/tags-testing-spec.md                                  โ
โ                                                                              โ
โ  CREA: .agents/active/tags-status.md                                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ # Estado: tags                                                         โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Branch: feature/tags                                                โ  โ
โ  โ ## Prioridad: alta                                                     โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Progreso Admin                                                      โ  โ
โ  โ - [ ] DBA                                                              โ  โ
โ  โ - [ ] Backend Admin                                                    โ  โ
โ  โ - [ ] Frontend Admin                                                   โ  โ
โ  โ - [ ] QA Admin                                                         โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Progreso Integraciรณn                                                โ  โ
โ  โ - [ ] DBA: Tabla pivote product_tags                                   โ  โ
โ  โ - [ ] Backend: Extender ProductRepository                              โ  โ
โ  โ - [ ] Frontend Admin: Selector en /admin/products/[id]                 โ  โ
โ  โ - [ ] Frontend Ecommerce: Badges en ProductCard y ProductDetail        โ  โ
โ  โ - [ ] QA: Tests de integraciรณn                                         โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Porcentaje: 0%                                                      โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  ๐ Lee: assign-tasks.md                                                     โ
โ                                                                              โ
โ  IDENTIFICA FASES:                                                           โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ FASE 1: ADMIN STANDALONE (tags CRUD)                                   โ  โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                              โ  โ
โ  โ DBA โ Backend โ Frontend โ QA                                          โ  โ
โ  โ                                                                        โ  โ
โ  โ FASE 2: INTEGRACIรN CON PRODUCTS                                       โ  โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                              โ  โ
โ  โ DBA (pivote) โ Backend (extender) โ Frontend (selector + badges) โ QA โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  LANZA: FASE 1                                                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโชโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                           FASE 1: ADMIN STANDALONE
                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโชโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                 DBA                                          โ
โ                                                                              โ
โ  ๐ Lee: create-table.md                                                     โ
โ  ๐ Lee: .agents/specs/tags-testing-spec.md                                  โ
โ                                                                              โ
โ  EJECUTA:                                                                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ # Verificar que no existe                                              โ  โ
โ  โ docker exec ajk-ecommerce mysql -uroot -p12345678 ajkecommerce \       โ  โ
โ  โ   -e "SHOW TABLES LIKE 'tags';"                                        โ  โ
โ  โ                                                                        โ  โ
โ  โ # Crear tabla                                                          โ  โ
โ  โ docker exec ajk-ecommerce mysql -uroot -p12345678 ajkecommerce -e "    โ  โ
โ  โ CREATE TABLE tags (                                                    โ  โ
โ  โ   id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,                          โ  โ
โ  โ   name VARCHAR(100) NOT NULL,                                          โ  โ
โ  โ   slug VARCHAR(100) NOT NULL,                                          โ  โ
โ  โ   color VARCHAR(7) DEFAULT '#6B7280',                                  โ  โ
โ  โ   description TEXT,                                                    โ  โ
โ  โ   is_active BOOLEAN DEFAULT TRUE,                                      โ  โ
โ  โ   display_order INT DEFAULT 0,                                         โ  โ
โ  โ   created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,                      โ  โ
โ  โ   updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE ...,        โ  โ
โ  โ   created_by INT,                                                      โ  โ
โ  โ   updated_by INT,                                                      โ  โ
โ  โ   UNIQUE INDEX idx_tags_slug (slug),                                   โ  โ
โ  โ   INDEX idx_tags_display_order (display_order),                        โ  โ
โ  โ   FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,   โ  โ
โ  โ   FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL    โ  โ
โ  โ );                                                                     โ  โ
โ  โ "                                                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ # Verificar creaciรณn                                                   โ  โ
โ  โ docker exec ajk-ecommerce mysql -uroot -p12345678 ajkecommerce \       โ  โ
โ  โ   -e "DESCRIBE tags;"                                                  โ  โ
โ  โ                                                                        โ  โ
โ  โ # Regenerar types                                                      โ  โ
โ  โ pnpm generate                                                          โ  โ
โ  โ                                                                        โ  โ
โ  โ # Agregar al sidebar                                                   โ  โ
โ  โ INSERT INTO sections (name, url, image, display_order, section_group)  โ  โ
โ  โ VALUES ('Tags', '/tags', 'tag', 15, 'catalog');                        โ  โ
โ  โ                                                                        โ  โ
โ  โ INSERT INTO roles_sections (id_rol, id_section)                        โ  โ
โ  โ VALUES (1, LAST_INSERT_ID());                                          โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  COMMIT: feat(tags): DBA create tags table and add to sidebar               โ
โ                                                                              โ
โ  NOTIFICA A MODULE LEAD:                                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ COMPLETADO: Tabla tags creada + sidebar configurado                   โ  โ
โ  โ                                                                        โ  โ
โ  โ ESTRUCTURA:                                                            โ  โ
โ  โ   id, name, slug, color, description, is_active, display_order,       โ  โ
โ  โ   created_at, updated_at, created_by, updated_by                      โ  โ
โ  โ                                                                        โ  โ
โ  โ TYPES GENERADOS:                                                       โ  โ
โ  โ   - Tag en @/types/database (snake_case)                              โ  โ
โ  โ   - Tag en @/types/domain (camelCase)                                 โ  โ
โ  โ                                                                        โ  โ
โ  โ SIDEBAR:                                                               โ  โ
โ  โ   - Secciรณn: Tags                                                      โ  โ
โ  โ   - URL: /tags                                                         โ  โ
โ  โ   - Grupo: catalog                                                     โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  ๐ Output:                                                                  โ
โ  โโโ MySQL: tabla tags creada                                                โ
โ  โโโ MySQL: sections + roles_sections actualizados                           โ
โ  โโโ src/types/database/database.d.ts (regenerado)                           โ
โ  โโโ src/types/domain/domain.d.ts (regenerado)                               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
                    โโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโ
                    โ                                   โ
                    โผ                                   โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           BACKEND              โ   โ          FRONTEND              โ
โ                                โ   โ                                โ
โ  ๐ Lee: create-module.md      โ   โ  ๐ Lee: create-admin.md       โ
โ                                โ   โ  ๐ Lee: shared-catalog.md     โ
โ                                โ   โ                                โ
โ  CREA:                         โ   โ  CREA:                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ src/module/tags/core/    โ  โ   โ  โ src/module/tags/         โ  โ
โ  โ โโโ Tag.model.ts         โ  โ   โ  โ components/admin/        โ  โ
โ  โ โโโ Tag.repository.ts    โ  โ   โ  โ โโโ TagFields.tsx        โ  โ
โ  โ โโโ Tag.mapper.ts        โ  โ   โ  โ โโโ TagListView.tsx      โ  โ
โ  โ โโโ index.ts             โ  โ   โ  โ โโโ index.ts             โ  โ
โ  โ                          โ  โ   โ  โ                          โ  โ
โ  โ src/module/tags/         โ  โ   โ  โ src/app/admin/tags/      โ  โ
โ  โ service/tag/             โ  โ   โ  โ โโโ page.tsx (lista)     โ  โ
โ  โ โโโ tag.service.ts       โ  โ   โ  โ โโโ new/page.tsx         โ  โ
โ  โ                          โ  โ   โ  โ โโโ [id]/page.tsx        โ  โ
โ  โ src/app/api/admin/tags/  โ  โ   โ  โ                          โ  โ
โ  โ โโโ route.ts             โ  โ   โ  โ TagFields incluye:       โ  โ
โ  โ โโโ [id]/route.ts        โ  โ   โ  โ - Input: name            โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ   โ  โ - Input: slug (auto)     โ  โ
โ                                โ   โ  โ - ColorPicker: color     โ  โ
โ  Tag.model.ts incluye:         โ   โ  โ - Textarea: description  โ  โ
โ  - getTags()                   โ   โ  โ - Switch: is_active      โ  โ
โ  - getTagById(id)              โ   โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  - getTagBySlug(slug)          โ   โ                                โ
โ  - createTag(data)             โ   โ  COMMIT:                       โ
โ  - updateTag(id, data)         โ   โ  feat(tags): FRONTEND add     โ
โ  - deleteTag(id)               โ   โ  admin components and pages   โ
โ  - reorderTags(ids)            โ   โ                                โ
โ                                โ   โ                                โ
โ  COMMIT:                       โ   โ                                โ
โ  feat(tags): BACKEND add       โ   โ                                โ
โ  core, service and API         โ   โ                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ                                   โ
                    โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                               QA ADMIN                                       โ
โ                                                                              โ
โ  ๐ Lee: create-e2e.md                                                       โ
โ                                                                              โ
โ  CREA:                                                                       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ src/module/tags/e2e/                                                   โ  โ
โ  โ โโโ data.ts              โ TEST_DATA con name, slug, color             โ  โ
โ  โ โโโ utils.ts             โ Re-exports de utils compartidos             โ  โ
โ  โ โโโ index.ts             โ Runner principal                            โ  โ
โ  โ โโโ admin/                                                             โ  โ
โ  โ โ   โโโ 01-crud.ts       โ 8 test cases CRUD                           โ  โ
โ  โ โโโ cleanup.ts           โ Limpieza de datos de prueba                 โ  โ
โ  โ โโโ screenshots/         โ Screenshots generados                       โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  EJECUTA: npx tsx src/module/tags/e2e/index.ts                               โ
โ                                                                              โ
โ  GENERA SCREENSHOTS:                                                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ src/module/tags/e2e/screenshots/                                       โ  โ
โ  โ โโโ 00-dashboard-after-login.png      โ Login exitoso                  โ  โ
โ  โ โโโ 01-sidebar-tags-visible.png       โ Tags en menรบ lateral           โ  โ
โ  โ โโโ 02-list-page-empty.png            โ Lista inicial                  โ  โ
โ  โ โโโ 03-new-form-empty.png             โ Formulario vacรญo               โ  โ
โ  โ โโโ 04-create-tag-filled.png          โ Formulario con datos           โ  โ
โ  โ โโโ 04-create-tag-success.png         โ Mensaje de รฉxito               โ  โ
โ  โ โโโ 05-list-with-tag.png              โ Lista con tag creado           โ  โ
โ  โ โโโ 06-edit-form-loaded.png           โ Formulario de ediciรณn          โ  โ
โ  โ โโโ 06-edit-tag-success.png           โ Ediciรณn exitosa                โ  โ
โ  โ โโโ 07-delete-modal.png               โ Modal de confirmaciรณn          โ  โ
โ  โ โโโ 07-delete-success.png             โ Eliminaciรณn exitosa            โ  โ
โ  โ โโโ 08-validations-empty-name.png     โ Validaciรณn nombre vacรญo        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  RESULTADOS: 8/8 passed                                                      โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  FLUJO ALTERNATIVO: Si hay tests fallidos (ITERACIรN RรPIDA)                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                              โ
โ  Si RESULTADOS fueran: 6/8 passed, 2/8 failed:                               โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ITERACIรN REQUERIDA: tags                                             โ  โ
โ  โ                                                                        โ  โ
โ  โ TESTS FALLIDOS (2 de 8):                                              โ  โ
โ  โ                                                                        โ  โ
โ  โ 1. Test: 04-create                                                    โ  โ
โ  โ    Screenshot: 04-create-ERROR.png                                    โ  โ
โ  โ    Error: Formulario no envรญa                                         โ  โ
โ  โ    Responsable probable: Frontend                                     โ  โ
โ  โ                                                                        โ  โ
โ  โ 2. Test: 06-delete                                                    โ  โ
โ  โ    Screenshot: 06-delete-ERROR.png                                    โ  โ
โ  โ    Error: Modal no aparece                                            โ  โ
โ  โ    Responsable probable: Frontend                                     โ  โ
โ  โ                                                                        โ  โ
โ  โ TESTS EXITOSOS: 00, 01, 02, 03, 05, 07, 08                            โ  โ
โ  โ (Screenshots guardados, NO se borran)                                 โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  โ Module Lead asigna correcciรณn ESPECรFICA a Frontend                       โ
โ  โ Frontend corrige SOLO 04-create y 06-delete                               โ
โ  โ QA re-ejecuta SOLO esos 2 tests (NO toda la suite)                        โ
โ  โ Cuando pasen โ PRUEBA TOTAL (borrar todo, ejecutar 8 tests)               โ
โ  โ Si PRUEBA TOTAL >= 90% โ Aprobar                                          โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                              โ
โ  NOTIFICA A MODULE LEAD (NO COMMIT AรN):                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ TESTS EJECUTADOS: tags                                                 โ  โ
โ  โ RESULTADOS: 8 passed, 0 failed                                         โ  โ
โ  โ SCREENSHOTS: src/module/tags/e2e/screenshots/                          โ  โ
โ  โ                                                                        โ  โ
โ  โ SOLICITO: Validaciรณn de screenshots vs modelo de negocio               โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      MODULE LEAD (Validaciรณn Admin)                          โ
โ                                                                              โ
โ  ๐ Lee: validate-qa-screenshots.md                                          โ
โ  ๐ Usa: templates/screenshot-evaluation.template.md                         โ
โ                                                                              โ
โ  LEE CADA SCREENSHOT con Read tool:                                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ EVALUACIรN ADMIN CRUD                                                  โ  โ
โ  โ                                                                        โ  โ
โ  โ Screenshot                        โ Criterio              โ OK?       โ  โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ 01-sidebar-tags-visible.png       โ Tags en sidebar       โ โ         โ  โ
โ  โ 02-list-page-empty.png            โ Tabla vacรญa correcta  โ โ         โ  โ
โ  โ 03-new-form-empty.png             โ Campos: name, color   โ โ         โ  โ
โ  โ 04-create-tag-filled.png          โ Datos ingresados      โ โ         โ  โ
โ  โ 04-create-tag-success.png         โ Mensaje รฉxito         โ โ         โ  โ
โ  โ 05-list-with-tag.png              โ Tag en lista + color  โ โ         โ  โ
โ  โ 06-edit-form-loaded.png           โ Datos cargados        โ โ         โ  โ
โ  โ 07-delete-modal.png               โ Modal confirmaciรณn    โ โ         โ  โ
โ  โ 08-validations-empty-name.png     โ Error visible         โ โ         โ  โ
โ  โ                                                                        โ  โ
โ  โ CUMPLIMIENTO: 9/9 = 100% โ                                             โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  ๐ Usa: templates/messages.template.md                                      โ
โ                                                                              โ
โ  RESPONDE A QA:                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ โ AUTORIZACIรN DE COMMIT - ADMIN                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ MรDULO: tags                                                           โ  โ
โ  โ CUMPLIMIENTO: 100%                                                     โ  โ
โ  โ                                                                        โ  โ
โ  โ QA: Procede a hacer commit de tus tests.                              โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  ACTUALIZA: .agents/active/tags-status.md                                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ## Progreso Admin                                                      โ  โ
โ  โ - [x] DBA โ                                                           โ  โ
โ  โ - [x] Backend Admin โ                                                 โ  โ
โ  โ - [x] Frontend Admin โ                                                โ  โ
โ  โ - [x] QA Admin โ                                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Porcentaje: 50% (Admin completo, falta Integraciรณn)                 โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  LANZA: FASE 2 - INTEGRACIรN                                                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                               QA (Commit)                                    โ
โ                                                                              โ
โ  EJECUTA:                                                                    โ
โ  $ git add src/module/tags/e2e/                                              โ
โ  $ git commit -m "test(tags): QA add e2e exploratory tests with screenshots" โ
โ  $ git push origin feature/tags                                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโชโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                  FASE 2: INTEGRACIรN CON PRODUCTS (M:N)
                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโชโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            MODULE LEAD                                       โ
โ                                                                              โ
โ  Lanza Integration Lead con Task()                                           โ
โ                                                                              โ
โ  ๐ Prompt:                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ROL: Integration Lead                                                  โ  โ
โ  โ TAREA: Integrar tags con products                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ SPEC: .agents/specs/tags-testing-spec.md                               โ  โ
โ  โ BRANCH: feature/tags                                                   โ  โ
โ  โ                                                                        โ  โ
โ  โ CONTEXTO:                                                              โ  โ
โ  โ - Mรณdulo nuevo: tags (ya creado, admin funcionando)                    โ  โ
โ  โ - Mรณdulo existente: products                                           โ  โ
โ  โ - Tipo relaciรณn: M:N (un producto puede tener varios tags)             โ  โ
โ  โ - Nivel: Producto (no variante)                                        โ  โ
โ  โ                                                                        โ  โ
โ  โ VISUALIZACIรN REQUERIDA:                                               โ  โ
โ  โ - ProductCard: Badges de tags con color                                โ  โ
โ  โ - ProductDetail: Badges junto al nombre                                โ  โ
โ  โ - Admin Products: Selector de tags en /admin/products/[id]             โ  โ
โ  โ                                                                        โ  โ
โ  โ SKILL: .agents/skills/integration-lead/integrate-module.md             โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โ Task()
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          INTEGRATION LEAD                                    โ
โ                                                                              โ
โ  ๐ Lee: integrate-module.md                                                 โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  FASE 0: ANALIZAR MรDULO PRODUCTS                                            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                              โ
โ  Lanza Module Expert con Task():                                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ Analizar:                                                              โ  โ
โ  โ - src/module/products/core/                                            โ  โ
โ  โ - src/module/products/components/                                      โ  โ
โ  โ - src/app/admin/products/                                              โ  โ
โ  โ - src/app/productos/ (ecommerce)                                       โ  โ
โ  โ - src/components/ui/ProductCard/                                       โ  โ
โ  โ                                                                        โ  โ
โ  โ Generar: .agents/analysis/products-structure.md                        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  RESULTADO DEL ANรLISIS:                                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ # Anรกlisis de Mรณdulo: products                                         โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Admin                                                               โ  โ
โ  โ - Edit Page: src/app/admin/products/[id]/page.tsx                      โ  โ
โ  โ - Ya tiene selectores de: categories, brand                            โ  โ
โ  โ - PUNTO INTEGRACIรN: Agregar selector de tags despuรฉs de brand         โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Ecommerce                                                           โ  โ
โ  โ - ProductCard: src/components/ui/ProductCard/ProductCard.tsx           โ  โ
โ  โ   - Props: { product, variant, ... }                                   โ  โ
โ  โ   - PUNTO INTEGRACIรN: Agregar badges encima de imagen                 โ  โ
โ  โ                                                                        โ  โ
โ  โ - ProductDetail: src/app/productos/[slug]/page.tsx                     โ  โ
โ  โ   - Usa: ProductVariantView                                            โ  โ
โ  โ   - PUNTO INTEGRACIรN: Agregar badges junto a nombre producto          โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Backend                                                             โ  โ
โ  โ - Repository: src/module/products/core/Product.repository.ts           โ  โ
โ  โ - Relaciones existentes: product_categories (M:N)                      โ  โ
โ  โ - PUNTO INTEGRACIรN: Agregar mรฉtodos getTagsForProduct, setTags        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  FASE 1: CREAR TABLA PIVOTE (DBA)                                            โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                              โ
โ  EJECUTA:                                                                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ # Verificar que no existe                                              โ  โ
โ  โ docker exec ajk-ecommerce mysql -uroot -p12345678 ajkecommerce \       โ  โ
โ  โ   -e "SHOW TABLES LIKE 'product_tags';"                                โ  โ
โ  โ                                                                        โ  โ
โ  โ # Crear tabla pivote                                                   โ  โ
โ  โ docker exec ajk-ecommerce mysql -uroot -p12345678 ajkecommerce -e "    โ  โ
โ  โ CREATE TABLE product_tags (                                            โ  โ
โ  โ   id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,                          โ  โ
โ  โ   product_id INT NOT NULL,                                             โ  โ
โ  โ   tag_id INT NOT NULL,                                                 โ  โ
โ  โ   display_order INT DEFAULT 0,                                         โ  โ
โ  โ   created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,                      โ  โ
โ  โ                                                                        โ  โ
โ  โ   FOREIGN KEY (product_id) REFERENCES products(id) ON DELETE CASCADE,  โ  โ
โ  โ   FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE,          โ  โ
โ  โ                                                                        โ  โ
โ  โ   UNIQUE KEY unique_product_tag (product_id, tag_id),                  โ  โ
โ  โ   INDEX idx_product_id (product_id),                                   โ  โ
โ  โ   INDEX idx_tag_id (tag_id)                                            โ  โ
โ  โ );                                                                     โ  โ
โ  โ "                                                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ # Regenerar types                                                      โ  โ
โ  โ pnpm generate                                                          โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  COMMIT: feat(products): add product_tags pivot table                        โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  FASE 2: EXTENDER BACKEND DE PRODUCTS                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                              โ
โ  MODIFICA: src/module/products/core/Product.repository.ts                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ // Agregar mรฉtodos                                                     โ  โ
โ  โ                                                                        โ  โ
โ  โ async getTagsForProduct(productId: number): Promise<Tag[]> {           โ  โ
โ  โ   return executeQuery<Tag[]>({                                         โ  โ
โ  โ     query: `                                                           โ  โ
โ  โ       SELECT t.* FROM tags t                                           โ  โ
โ  โ       INNER JOIN product_tags pt ON t.id = pt.tag_id                   โ  โ
โ  โ       WHERE pt.product_id = ? AND t.is_active = 1                      โ  โ
โ  โ       ORDER BY pt.display_order                                        โ  โ
โ  โ     `,                                                                 โ  โ
โ  โ     values: [productId]                                                โ  โ
โ  โ   })                                                                   โ  โ
โ  โ }                                                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ async setTagsForProduct(productId: number, tagIds: number[]) {         โ  โ
โ  โ   // Eliminar asociaciones existentes                                  โ  โ
โ  โ   await executeQuery({                                                 โ  โ
โ  โ     query: 'DELETE FROM product_tags WHERE product_id = ?',            โ  โ
โ  โ     values: [productId]                                                โ  โ
โ  โ   })                                                                   โ  โ
โ  โ                                                                        โ  โ
โ  โ   // Crear nuevas asociaciones                                         โ  โ
โ  โ   if (tagIds.length > 0) {                                             โ  โ
โ  โ     const values = tagIds.map((tagId, i) =>                            โ  โ
โ  โ       `(${productId}, ${tagId}, ${i})`                                 โ  โ
โ  โ     ).join(', ')                                                       โ  โ
โ  โ     await executeQuery({                                               โ  โ
โ  โ       query: `INSERT INTO product_tags (product_id, tag_id,            โ  โ
โ  โ               display_order) VALUES ${values}`                         โ  โ
โ  โ     })                                                                 โ  โ
โ  โ   }                                                                    โ  โ
โ  โ }                                                                      โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  CREA API: src/app/api/admin/products/[id]/tags/route.ts                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ // GET - Obtener tags del producto                                     โ  โ
โ  โ export async function GET(request, { params }) {                       โ  โ
โ  โ   const tags = await ProductRepository.getTagsForProduct(params.id)    โ  โ
โ  โ   return NextResponse.json(tags)                                       โ  โ
โ  โ }                                                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ // PUT - Actualizar tags del producto                                  โ  โ
โ  โ export async function PUT(request, { params }) {                       โ  โ
โ  โ   const { tagIds } = await request.json()                              โ  โ
โ  โ   await ProductRepository.setTagsForProduct(params.id, tagIds)         โ  โ
โ  โ   return NextResponse.json({ success: true })                          โ  โ
โ  โ }                                                                      โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  MODIFICA: hydrators para incluir tags en ProductCard data                   โ
โ                                                                              โ
โ  COMMIT: feat(products): add tags relationship methods                       โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  FASE 3: FRONTEND ADMIN - SELECTOR DE TAGS                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                              โ
โ  MODIFICA: src/app/admin/products/[id]/page.tsx                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ // Agregar estado para tags                                            โ  โ
โ  โ const [availableTags, setAvailableTags] = useState<Tag[]>([])          โ  โ
โ  โ const [selectedTagIds, setSelectedTagIds] = useState<number[]>([])     โ  โ
โ  โ                                                                        โ  โ
โ  โ // Cargar tags disponibles y seleccionados                             โ  โ
โ  โ useEffect(() => {                                                      โ  โ
โ  โ   fetch('/api/admin/tags?active=true')                                 โ  โ
โ  โ     .then(r => r.json())                                               โ  โ
โ  โ     .then(setAvailableTags)                                            โ  โ
โ  โ                                                                        โ  โ
โ  โ   fetch(`/api/admin/products/${id}/tags`)                              โ  โ
โ  โ     .then(r => r.json())                                               โ  โ
โ  โ     .then(tags => setSelectedTagIds(tags.map(t => t.id)))              โ  โ
โ  โ }, [id])                                                               โ  โ
โ  โ                                                                        โ  โ
โ  โ // Selector visual (despuรฉs de Brand)                                  โ  โ
โ  โ <div className="space-y-2">                                            โ  โ
โ  โ   <Label>Tags</Label>                                                  โ  โ
โ  โ   <div className="flex flex-wrap gap-2">                               โ  โ
โ  โ     {availableTags.map(tag => (                                        โ  โ
โ  โ       <button                                                          โ  โ
โ  โ         key={tag.id}                                                   โ  โ
โ  โ         type="button"                                                  โ  โ
โ  โ         onClick={() => toggleTag(tag.id)}                              โ  โ
โ  โ         className={`px-3 py-1 rounded-full text-sm text-white`}        โ  โ
โ  โ         style={{                                                       โ  โ
โ  โ           backgroundColor: selectedTagIds.includes(tag.id)             โ  โ
โ  โ             ? tag.color                                                โ  โ
โ  โ             : '#CBD5E1'                                                โ  โ
โ  โ         }}                                                             โ  โ
โ  โ       >                                                                โ  โ
โ  โ         {tag.name}                                                     โ  โ
โ  โ       </button>                                                        โ  โ
โ  โ     ))}                                                                โ  โ
โ  โ   </div>                                                               โ  โ
โ  โ </div>                                                                 โ  โ
โ  โ                                                                        โ  โ
โ  โ // En submit, guardar tags                                             โ  โ
โ  โ await fetch(`/api/admin/products/${id}/tags`, {                        โ  โ
โ  โ   method: 'PUT',                                                       โ  โ
โ  โ   body: JSON.stringify({ tagIds: selectedTagIds })                     โ  โ
โ  โ })                                                                     โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  COMMIT: feat(products): add tags selector in admin edit page                โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  FASE 4: FRONTEND ECOMMERCE - BADGES                                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                              โ
โ  MODIFICA: src/components/ui/ProductCard/ProductCard.tsx                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ // Props: agregar tags                                                 โ  โ
โ  โ interface ProductCardProps {                                           โ  โ
โ  โ   product: Product                                                     โ  โ
โ  โ   variant?: ProductVariant                                             โ  โ
โ  โ   tags?: Tag[]  // โ NUEVO                                             โ  โ
โ  โ }                                                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ // En el componente, agregar badges                                    โ  โ
โ  โ <div className="relative">                                             โ  โ
โ  โ   {/* Badges de tags en esquina superior izquierda */}                 โ  โ
โ  โ   {tags && tags.length > 0 && (                                        โ  โ
โ  โ     <div className="absolute top-2 left-2 z-10 flex flex-wrap gap-1">  โ  โ
โ  โ       {tags.slice(0, 2).map(tag => (                                   โ  โ
โ  โ         <span                                                          โ  โ
โ  โ           key={tag.id}                                                 โ  โ
โ  โ           className="px-2 py-0.5 rounded text-xs font-medium text-white"โ  โ
โ  โ           style={{ backgroundColor: tag.color }}                       โ  โ
โ  โ         >                                                              โ  โ
โ  โ           {tag.name}                                                   โ  โ
โ  โ         </span>                                                        โ  โ
โ  โ       ))}                                                              โ  โ
โ  โ     </div>                                                             โ  โ
โ  โ   )}                                                                   โ  โ
โ  โ                                                                        โ  โ
โ  โ   {/* Imagen del producto */}                                          โ  โ
โ  โ   <Image ... />                                                        โ  โ
โ  โ </div>                                                                 โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  MODIFICA: src/app/productos/[slug]/page.tsx (ProductDetail)                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ // Obtener tags del producto                                           โ  โ
โ  โ const tags = await ProductRepository.getTagsForProduct(product.id)     โ  โ
โ  โ                                                                        โ  โ
โ  โ // Mostrar badges junto al nombre                                      โ  โ
โ  โ <div className="flex items-center gap-3">                              โ  โ
โ  โ   <h1 className="text-3xl font-bold">{product.name}</h1>               โ  โ
โ  โ                                                                        โ  โ
โ  โ   {tags.length > 0 && (                                                โ  โ
โ  โ     <div className="flex gap-1">                                       โ  โ
โ  โ       {tags.map(tag => (                                               โ  โ
โ  โ         <span                                                          โ  โ
โ  โ           key={tag.id}                                                 โ  โ
โ  โ           className="px-2 py-1 rounded text-sm font-medium text-white" โ  โ
โ  โ           style={{ backgroundColor: tag.color }}                       โ  โ
โ  โ         >                                                              โ  โ
โ  โ           {tag.name}                                                   โ  โ
โ  โ         </span>                                                        โ  โ
โ  โ       ))}                                                              โ  โ
โ  โ     </div>                                                             โ  โ
โ  โ   )}                                                                   โ  โ
โ  โ </div>                                                                 โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  COMMIT: feat(products): show tags badges in ProductCard and ProductDetail   โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  FASE 5: QA - TESTS DE INTEGRACIรN                                           โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                              โ
โ  Lanza QA con Task()                                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โ Task()
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                     QA INTEGRACIรN                                           โ
โ                                                                              โ
โ  ๐ Lee: create-integration-e2e.md                                           โ
โ  ๐ Lee: .agents/specs/tags-testing-spec.md (Criterios de Validaciรณn)        โ
โ                                                                              โ
โ  โ๏ธ Tests van en el MรDULO EXISTENTE (products), no en tags                  โ
โ                                                                              โ
โ  CREA:                                                                       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ src/module/products/e2e/integration/tags.ts                            โ  โ
โ  โ                                                                        โ  โ
โ  โ Tests:                                                                 โ  โ
โ  โ - TC-I00: Crear tag de prueba en admin tags                            โ  โ
โ  โ - TC-I01: Verificar selector en /admin/products/[id]                   โ  โ
โ  โ - TC-I02: Seleccionar tags y guardar                                   โ  โ
โ  โ - TC-I03: Verificar tags guardados                                     โ  โ
โ  โ - TC-I04: Ver ProductCard con badges (ecommerce)                       โ  โ
โ  โ - TC-I05: Ver ProductDetail con badges (ecommerce)                     โ  โ
โ  โ - TC-I06: Vista mobile                                                 โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  EJECUTA: npx tsx src/module/products/e2e/index-integration.ts               โ
โ                                                                              โ
โ  GENERA SCREENSHOTS:                                                         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ src/module/products/e2e/screenshots/integration/                       โ  โ
โ  โ                                                                        โ  โ
โ  โ ADMIN:                                                                 โ  โ
โ  โ โโโ i01-admin-tags-created.png         โ Tag "Nuevo" creado            โ  โ
โ  โ โโโ i02-admin-product-edit-selector.pngโ Selector visible con tags     โ  โ
โ  โ โโโ i03-admin-product-tag-selected.png โ Tag seleccionado (color)      โ  โ
โ  โ โโโ i04-admin-product-after-save.png   โ Guardado exitoso              โ  โ
โ  โ                                                                        โ  โ
โ  โ ECOMMERCE:                                                             โ  โ
โ  โ โโโ i05-ecommerce-product-card.png     โ ProductCard con badge "Nuevo" โ  โ
โ  โ โโโ i06-ecommerce-product-detail.png   โ ProductDetail con badges      โ  โ
โ  โ โโโ i07-ecommerce-mobile.png           โ Vista responsive              โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  RESULTADOS: 7/7 passed                                                      โ
โ                                                                              โ
โ  โ๏ธ VERIFICACIรN OBLIGATORIA antes de notificar:                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ # Verificar que screenshots de integraciรณn existen                     โ  โ
โ  โ ls src/module/tags/e2e/screenshots/int-*.png | wc -l                   โ  โ
โ  โ # DEBE ser > 0                                                         โ  โ
โ  โ                                                                        โ  โ
โ  โ # Verificar que no hay errores sin resolver                            โ  โ
โ  โ ls src/module/tags/e2e/screenshots/*ERROR* 2>/dev/null                 โ  โ
โ  โ # DEBE estar vacรญo                                                     โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  NOTIFICA A MODULE LEAD:                                                     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ TESTS INTEGRACIรN: tags + products                                     โ  โ
โ  โ RESULTADOS: 7 passed, 0 failed                                         โ  โ
โ  โ                                                                        โ  โ
โ  โ SCREENSHOTS: src/module/products/e2e/screenshots/integration/          โ  โ
โ  โ                                                                        โ  โ
โ  โ CASOS VALIDADOS:                                                       โ  โ
โ  โ โ Admin: Selector de tags funciona                                     โ  โ
โ  โ โ Admin: Asociaciones se guardan                                       โ  โ
โ  โ โ Ecommerce: ProductCard muestra badge con color                       โ  โ
โ  โ โ Ecommerce: ProductDetail muestra badges junto a nombre               โ  โ
โ  โ โ Mobile: Badges visibles                                              โ  โ
โ  โ                                                                        โ  โ
โ  โ SOLICITO: Validaciรณn de screenshots                                    โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    MODULE LEAD (Validaciรณn Integraciรณn)                      โ
โ                                                                              โ
โ  ๐ Lee: validate-qa-screenshots.md                                          โ
โ                                                                              โ
โ  LEE CADA SCREENSHOT:                                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ EVALUACIรN INTEGRACIรN                                                 โ  โ
โ  โ                                                                        โ  โ
โ  โ Screenshot                          โ Criterio                 โ OK?  โ  โ
โ  โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ i02-admin-product-edit-selector.png โ Selector visible         โ โ    โ  โ
โ  โ                                     โ Muestra tags con colores โ โ    โ  โ
โ  โ                                     โ NO dice "No hay tags"    โ โ    โ  โ
โ  โ                                                                        โ  โ
โ  โ i03-admin-product-tag-selected.png  โ Tag seleccionado         โ โ    โ  โ
โ  โ                                     โ Color diferenciado       โ โ    โ  โ
โ  โ                                                                        โ  โ
โ  โ i05-ecommerce-product-card.png      โ Badge visible            โ โ    โ  โ
โ  โ                                     โ Color del tag            โ โ    โ  โ
โ  โ                                     โ Esquina superior izq     โ โ    โ  โ
โ  โ                                                                        โ  โ
โ  โ i06-ecommerce-product-detail.png    โ Badges junto a nombre    โ โ    โ  โ
โ  โ                                     โ Colores correctos        โ โ    โ  โ
โ  โ                                                                        โ  โ
โ  โ CUMPLIMIENTO: 100% โ                                                   โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  RESPONDE A QA:                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ โ AUTORIZACIรN DE COMMIT - INTEGRACIรN                                โ  โ
โ  โ                                                                        โ  โ
โ  โ MรDULO: tags integrado con products                                    โ  โ
โ  โ CUMPLIMIENTO: 100%                                                     โ  โ
โ  โ                                                                        โ  โ
โ  โ QA: Procede a hacer commit de tus tests de integraciรณn.               โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  ACTUALIZA: .agents/active/tags-status.md                                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ## Progreso Admin                                                      โ  โ
โ  โ - [x] DBA โ                                                           โ  โ
โ  โ - [x] Backend Admin โ                                                 โ  โ
โ  โ - [x] Frontend Admin โ                                                โ  โ
โ  โ - [x] QA Admin โ                                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Progreso Integraciรณn                                                โ  โ
โ  โ - [x] DBA: Tabla pivote product_tags โ                                โ  โ
โ  โ - [x] Backend: Extender ProductRepository โ                           โ  โ
โ  โ - [x] Frontend Admin: Selector en /admin/products/[id] โ              โ  โ
โ  โ - [x] Frontend Ecommerce: Badges en ProductCard y ProductDetail โ     โ  โ
โ  โ - [x] QA: Tests de integraciรณn โ                                      โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Porcentaje: 100% ๐                                                 โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  ๐ Lee: propose-release.md                                                  โ
โ  PROPONE RELEASE a Project Owner                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโชโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                              FASE FINAL: RELEASE
                                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโชโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          PROJECT OWNER                                       โ
โ                                                                              โ
โ  ๐ Lee: review-release.md + approve-release.md                              โ
โ                                                                              โ
โ  VERIFICA:                                                                   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ โ Admin tags: CRUD completo                                            โ  โ
โ  โ โ Integraciรณn: Selector en products, badges en ecommerce               โ  โ
โ  โ โ Screenshots validan modelo de negocio                                โ  โ
โ  โ โ Todos los commits en feature/tags                                    โ  โ
โ  โ โ Lint pasando                                                         โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  CREA: .agents/releases/tags-release.md                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ # Release: tags                                                        โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Fecha: 2026-01-31                                                   โ  โ
โ  โ ## Branch: feature/tags                                                โ  โ
โ  โ ## Commits: 8                                                          โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Funcionalidades                                                     โ  โ
โ  โ - CRUD completo de tags en admin                                       โ  โ
โ  โ - Selector de tags en /admin/products/[id]                             โ  โ
โ  โ - Badges de tags en ProductCard (esquina superior)                     โ  โ
โ  โ - Badges de tags en ProductDetail (junto a nombre)                     โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Tablas Creadas                                                      โ  โ
โ  โ - tags                                                                 โ  โ
โ  โ - product_tags (pivote)                                                โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Archivos Modificados en Mรณdulo Existente (products)                 โ  โ
โ  โ - src/module/products/core/Product.repository.ts                       โ  โ
โ  โ - src/app/admin/products/[id]/page.tsx                                 โ  โ
โ  โ - src/components/ui/ProductCard/ProductCard.tsx                        โ  โ
โ  โ - src/app/productos/[slug]/page.tsx                                    โ  โ
โ  โ                                                                        โ  โ
โ  โ ## Aprobaciรณn                                                          โ  โ
โ  โ Admin: 100%                                                            โ  โ
โ  โ Integraciรณn: 100%                                                      โ  โ
โ  โ Estado: LISTO PARA MERGE                                               โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                              โ
โ  ACTUALIZA: .agents/project.json                                             โ
โ  {                                                                           โ
โ    "modules": {                                                              โ
โ      "tags": {                                                               โ
โ        "status": "released",                                                 โ
โ        "version": "1.0.0",                                                   โ
โ        "releaseDate": "2026-01-31"                                           โ
โ      }                                                                       โ
โ    }                                                                         โ
โ  }                                                                           โ
โ                                                                              โ
โ  NOTIFICA A PRODUCT OWNER (Humano):                                          โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ ๐ MรDULO LISTO PARA MERGE: tags                                       โ  โ
โ  โ                                                                        โ  โ
โ  โ Branch: feature/tags                                                   โ  โ
โ  โ                                                                        โ  โ
โ  โ Funcionalidades:                                                       โ  โ
โ  โ - Admin CRUD para gestionar tags                                       โ  โ
โ  โ - Tags visibles en ProductCard (badges con color)                      โ  โ
โ  โ - Tags visibles en ProductDetail (junto al nombre)                     โ  โ
โ  โ - Selector de tags al editar productos                                 โ  โ
โ  โ                                                                        โ  โ
โ  โ Para probar:                                                           โ  โ
โ  โ 1. git checkout feature/tags                                           โ  โ
โ  โ 2. pnpm dev                                                            โ  โ
โ  โ 3. Ir a /admin/tags y crear un tag                                     โ  โ
โ  โ 4. Ir a /admin/products/[id] y asignar el tag                          โ  โ
โ  โ 5. Ver el producto en la tienda (/productos/[slug])                    โ  โ
โ  โ                                                                        โ  โ
โ  โ Cuando apruebes: git merge feature/tags                                โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                      โ
                                      โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        PRODUCT OWNER (Humano)                                โ
โ                                                                              โ
โ  1. Prueba el mรณdulo en el branch feature/tags                               โ
โ  2. Verifica que todo funcione segรบn lo esperado                             โ
โ  3. Aprueba                                                                  โ
โ                                                                              โ
โ  $ git checkout main                                                         โ
โ  $ git merge feature/tags                                                    โ
โ  $ git push origin main                                                      โ
โ                                                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ                                                                        โ  โ
โ  โ                    โ MรDULO TAGS COMPLETADO                           โ  โ
โ  โ                                                                        โ  โ
โ  โ  Admin:                                                                โ  โ
โ  โ  - /admin/tags           โ CRUD de tags                                โ  โ
โ  โ  - /admin/products/[id]  โ Selector de tags                            โ  โ
โ  โ                                                                        โ  โ
โ  โ  Ecommerce:                                                            โ  โ
โ  โ  - ProductCard           โ Badge con color en esquina                  โ  โ
โ  โ  - ProductDetail         โ Badges junto al nombre                      โ  โ
โ  โ                                                                        โ  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Resumen de Archivos Generados

```
.agents/
โโโ specs/tags-testing-spec.md              โ Spec creado por Project Owner
โโโ active/tags-status.md                   โ Status creado por Module Lead
โโโ analysis/products-structure.md          โ Anรกlisis por Module Expert
โโโ releases/tags-release.md                โ Release aprobado

src/module/tags/                            โ MรDULO NUEVO
โโโ core/
โ   โโโ Tag.model.ts
โ   โโโ Tag.repository.ts
โ   โโโ Tag.mapper.ts
โ   โโโ index.ts
โโโ service/tag/
โ   โโโ tag.service.ts
โโโ components/admin/
โ   โโโ TagFields.tsx
โ   โโโ TagListView.tsx
โ   โโโ index.ts
โโโ e2e/
    โโโ admin/01-crud.ts
    โโโ data.ts
    โโโ utils.ts
    โโโ index.ts
    โโโ screenshots/
        โโโ 00-dashboard-after-login.png
        โโโ 01-sidebar-tags-visible.png
        โโโ ... (12 screenshots admin)

src/app/admin/tags/                         โ PรGINAS ADMIN
โโโ page.tsx
โโโ new/page.tsx
โโโ [id]/page.tsx

src/app/api/admin/tags/                     โ API CRUD
โโโ route.ts
โโโ [id]/route.ts

src/module/products/                        โ MรDULO EXISTENTE (modificado)
โโโ core/Product.repository.ts              โ + getTagsForProduct, setTagsForProduct
โโโ e2e/integration/
    โโโ tags.ts                             โ Tests de integraciรณn
    โโโ screenshots/integration/
        โโโ i01-admin-tags-created.png
        โโโ i02-admin-product-edit-selector.png
        โโโ i05-ecommerce-product-card.png
        โโโ i06-ecommerce-product-detail.png
        โโโ ... (7 screenshots integraciรณn)

src/app/admin/products/[id]/page.tsx        โ + Selector de tags
src/app/api/admin/products/[id]/tags/       โ + API asociaciรณn
โโโ route.ts

src/components/ui/ProductCard/              โ + Badges de tags
โโโ ProductCard.tsx

src/app/productos/[slug]/page.tsx           โ + Badges de tags

MySQL:
โโโ tags                                    โ Tabla nueva
โโโ product_tags                            โ Tabla pivote
```

---

## Commits Generados (en orden)

| # | Commit | Autor |
|---|--------|-------|
| 1 | `feat(tags): DBA create tags table and add to sidebar` | DBA |
| 2 | `feat(tags): BACKEND add core, service and API` | Backend |
| 3 | `feat(tags): FRONTEND add admin components and pages` | Frontend |
| 4 | `test(tags): QA add e2e exploratory tests with screenshots` | QA |
| 5 | `feat(products): add product_tags pivot table` | Integration Lead |
| 6 | `feat(products): add tags relationship methods` | Integration Lead |
| 7 | `feat(products): add tags selector in admin edit page` | Integration Lead |
| 8 | `feat(products): show tags badges in ProductCard and ProductDetail` | Integration Lead |
| 9 | `test(products): QA add tags integration tests with screenshots` | QA |

---

*Diagrama generado para caso de uso: Mรณdulo Tags - 2026-01-31*
